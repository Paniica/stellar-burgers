/**
 * Централизованная типизация для приложения Stellar Burgers
 *
 * Этот файл содержит все основные типы данных, используемые в приложении.
 * Централизация типов обеспечивает:
 * - Консистентность данных во всем приложении
 * - Легкость рефакторинга и изменений
 * - Автокомплит и проверку типов в IDE
 * - Документирование структуры данных
 */

/**
 * Основной тип для ингредиентов бургера
 *
 * Содержит всю необходимую информацию об ингредиенте:
 * - Идентификатор и название
 * - Пищевая ценность (белки, жиры, углеводы, калории)
 * - Цена и изображения для разных устройств
 * - Тип ингредиента для группировки
 */
export type BurgerIngredient = {
  _id: string;
  name: string;
  type: string;
  proteins: number;
  fat: number;
  carbohydrates: number;
  calories: number;
  price: number;
  image: string;
  image_large: string;
  image_mobile: string;
};

/**
 * Тип для ингредиентов в конструкторе с уникальным ID
 *
 * Расширяет BurgerIngredient дополнительным полем id для:
 * - Уникальной идентификации в списке конструктора
 * - Возможности перестановки элементов
 * - Удаления конкретного элемента из конструктора
 */
export type ConstructorItem = BurgerIngredient & {
  id: string;
};

/**
 * Тип для заказа пользователя
 *
 * Содержит информацию о заказе:
 * - Идентификатор и номер заказа
 * - Статус выполнения
 * - Список ID ингредиентов
 * - Временные метки создания и обновления
 */
export type OrderData = {
  _id: string;
  status: string;
  name: string;
  createdAt: string;
  updatedAt: string;
  number: number;
  ingredients: string[];
};

/**
 * Тип для ответа API с данными о заказах
 *
 * Включает:
 * - Массив заказов
 * - Общее количество заказов
 * - Количество заказов за сегодня
 */
export type OrdersResponse = {
  orders: OrderData[];
  total: number;
  totalToday: number;
};

/**
 * Тип для профиля пользователя
 *
 * Содержит основную информацию о пользователе:
 * - Email для аутентификации
 * - Имя для отображения в интерфейсе
 */
export type UserProfile = {
  email: string;
  name: string;
};

/**
 * Тип для категорий ингредиентов
 *
 * Определяет возможные типы ингредиентов:
 * - bun: булки (верх и низ бургера)
 * - sauce: соусы
 * - main: основные ингредиенты (мясо, овощи и т.д.)
 */
export type IngredientCategory = 'bun' | 'sauce' | 'main';

/**
 * Тип для состояния конструктора бургера
 *
 * Управляет состоянием текущего бургера:
 * - bun: выбранная булка (может быть только одна)
 * - ingredients: массив начинок (может быть несколько)
 */
export type ConstructorState = {
  bun: ConstructorItem | null;
  ingredients: ConstructorItem[];
};
